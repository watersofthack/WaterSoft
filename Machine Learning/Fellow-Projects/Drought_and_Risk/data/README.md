# Data Directory

This directory contains the hydrological and meteorological data used for streamflow prediction and reservoir operations modeling.

## Directory Structure

```
data/
├── raw/                    # Raw, unprocessed data
│   ├── attributes/         # Basin static attributes
│   └── time_series/        # Time series data (streamflow, precipitation, temperature)
├── processed/              # Processed data ready for modeling
└── README.md              # This file
```

## Raw Data (`raw/`)

### Basin Attributes (`raw/attributes/`)

**File**: `attributes.csv`

Contains static catchment characteristics for 22 USGS gauge stations. These attributes are used as static inputs to the neural network models.

**Attributes (49 features)**:

| Category | Attributes | Description |
|----------|------------|-------------|
| **Climatic** | p_mean, pet_mean, p_seasonality, frac_snow, aridity | Precipitation, evapotranspiration, seasonality, snow fraction |
| **Hydrologic** | q_mean, runoff_ratio, slope_fdc, baseflow_index, stream_elas | Flow characteristics and hydrologic indices |
| **Physiographic** | elev_mean, slope_mean, area_gages2, gauge_lat, gauge_lon | Topographic and geographic characteristics |
| **Soil** | soil_depth_*, soil_porosity, soil_conductivity, *_frac | Soil properties and texture |
| **Geologic** | geol_permeability, glim_*_class_frac | Geological characteristics |
| **Land Cover** | frac_forest, lai_*, gvf_*, dom_land_cover* | Vegetation and land use |

### Time Series Data (`raw/time_series/`)

**Format**: Both CSV and NetCDF formats available for each station

**Files**: `{station_id}.csv` and `{station_id}.nc`

**Stations (22 total)**:
- 6221400, 6224000, 6614800, 6623800, 7083000
- 9034900, 9035800, 9035900, 9047700, 9065500
- 9066000, 9066200, 9066300, 9081600, 9107000
- 9210500, 9223000, 9306242, 9312600, 9352900
- 9378170, 9378630, 10205030, 13023000

**Variables**:
- **prcp**: Daily precipitation [mm/day]
- **tmax**: Daily maximum temperature [°C]
- **streamflow**: Daily streamflow [m³/s] (target variable)

**Time Period**: 1980-01-01 to 2023-12-31 (44 years)

**Data Splits**:
- **Training**: 1980-2010 (31 years)
- **Validation**: 2011-2019 (9 years)
- **Testing**: 2020-2023 (4 years)

## Processed Data (`processed/`)

This directory will contain preprocessed data files generated by the preprocessing scripts:

- Normalized/standardized time series
- Train/validation/test splits
- Cached data for faster loading
- Feature-engineered datasets

## Data Sources

- **CAMELS Dataset**: Catchment Attributes and Meteorology for Large-sample Studies
- **USGS**: United States Geological Survey streamflow data
- **Daymet**: Daily surface weather data
- **Various**: Soil, geology, and land cover datasets

## Usage Notes

1. **Large Files**: Time series files are large and excluded from git tracking
2. **Data Quality**: All data has been quality-controlled and gap-filled where appropriate
3. **Coordinate System**: Geographic coordinates in WGS84 (EPSG:4326)
4. **Units**: See individual variable descriptions for units

## Data Processing Pipeline

1. **Raw Data Extraction**: `src/preprocessing/data_extraction.py`
2. **Attribute Processing**: `src/preprocessing/attribute_processing.py`
3. **Quality Control**: Automated checks for missing values and outliers
4. **Normalization**: Z-score normalization for neural network inputs

## Key Stations

### Taylor Park (Station 9107000)
- **Location**: Taylor River at Taylor Park, CO
- **Drainage Area**: 331.62 km²
- **Elevation**: 3300.29 m
- **Special Note**: Used for reservoir operations analysis

### Representative Basins
- **High Elevation**: 6221400 (3336.8 m), 6224000 (3116.82 m)
- **Large Drainage**: 9081600 (432.89 km²), 13023000 (1161.93 km²)
- **Diverse Land Cover**: Forest, grassland, and mixed vegetation types

## Data Quality Metrics

- **Completeness**: >95% data availability for all stations
- **Temporal Coverage**: Consistent 44-year record
- **Spatial Coverage**: Representative of Upper Colorado River Basin
- **Quality Flags**: USGS quality codes preserved in original data

## Contact

For questions about the data or to report issues:
- Check the original CAMELS documentation
- Review USGS data quality reports
- Contact the project maintainers

---

**Last Updated**: January 2025
